"use strict";(self.webpackChunkcapstone2_kanban=self.webpackChunkcapstone2_kanban||[]).push([[826,345,988],{913:(e,t,a)=>{a.d(t,{Z:()=>s});var r=a(81),o=a.n(r),n=a(645),i=a.n(n)()(o());i.push([e.id,':root{--bg-0: #f6f8fb;--bg-1: #e9eef7;--panel: rgba(6,18,38,0.03);--muted: #556b82;--accent-primary: #3b82f6;--accent-secondary: #06b6d4;--glass: rgba(6,18,38,0.04);--glass-2: rgba(6,18,38,0.02);--text: #07122a;--panel-contrast: #ffffff;--hover-duration: 720ms;--hover-ease: cubic-bezier(.16,.84,.24,1);--poster-duration: 920ms}.dark{--bg-0: #060712;--bg-1: #0b1530;--panel: rgba(255,255,255,0.04);--muted: #9fb0c8;--accent-primary: #7f5bff;--accent-secondary: #ff6b81;--glass: rgba(255,255,255,0.03);--glass-2: rgba(255,255,255,0.02);--text: #eaf4ff;--panel-contrast: rgba(4,6,12,0.6)}*{box-sizing:border-box}html,body{height:100%}body{margin:0;font-family:"Roboto",Inter,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;background:linear-gradient(180deg, var(--bg-0) 0%, var(--bg-1) 60%);color:var(--text);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;transition:background .45s ease,color .35s ease}.container{width:94%;max-width:1200px;margin:0 auto}nav,.movie-card,.modal-inner,.poster,.meta,.badge,.sticker,.comments,.confirm-box{transition:background var(--hover-duration) var(--hover-ease),color calc(var(--hover-duration)/2) var(--hover-ease),box-shadow var(--hover-duration) var(--hover-ease),border-color calc(var(--hover-duration)/2) var(--hover-ease)}nav{backdrop-filter:blur(6px);background:linear-gradient(90deg, rgba(127, 91, 255, 0.06), rgba(255, 107, 129, 0.03));border-bottom:1px solid rgba(255,255,255,.03)}.nav-inner{display:flex;align-items:center;justify-content:space-between;padding:14px 0}.brand{display:flex;align-items:center;gap:12px;color:inherit;text-decoration:none}.brand img{width:52px;height:52px;border-radius:10px;transition:transform .18s var(--hover-ease),box-shadow .18s var(--hover-ease)}.site-nav{position:sticky;top:0;z-index:60;backdrop-filter:blur(8px) saturate(110%);-webkit-backdrop-filter:blur(8px) saturate(110%);background:linear-gradient(180deg, rgba(255, 255, 255, 0.02), rgba(255, 255, 255, 0.01));border-bottom:1px solid rgba(255,255,255,.04)}.site-nav .nav-inner.container{display:flex;align-items:center;gap:18px;padding:10px 18px}.nav-left .brand{display:flex;align-items:center;gap:12px;text-decoration:none;color:inherit}.brand img{width:44px;height:44px;object-fit:contain;border-radius:8px}.brand-logo{display:inline-block;width:44px;height:44px;object-fit:contain;border-radius:8px}.brand-logo[alt=""]{visibility:hidden}.brand-logo-wrap{display:inline-grid;place-items:center;width:56px;height:56px;border-radius:12px;padding:6px;background:var(--brand-bg, rgba(255, 255, 255, 0.06));box-shadow:0 6px 16px rgba(2,6,23,.35)}:root{--brand-bg: rgba(255,255,255,0.06)}.dark{--brand-bg: rgba(255,255,255,0.06)}.theme-netflix{--brand-bg: linear-gradient(90deg,#e50914,#b81d24)}.theme-pastel{--brand-bg: linear-gradient(90deg,#a78bfa,#f472b6)}.theme-warm{--brand-bg: linear-gradient(90deg,#ff7a59,#ffd66b)}.theme-cool{--brand-bg: linear-gradient(90deg,#6ee7ff,#7c5cff)}.brand-text .title{font-weight:800;letter-spacing:.2px}.brand-text .sub{font-size:.85rem;color:var(--muted)}.nav-center{flex:1;display:flex;justify-content:center}.nav-search{width:640px;max-width:72%;display:flex;gap:8px;align-items:center;background:var(--glass);padding:6px;border-radius:12px}.nav-search input{flex:1;padding:12px 14px;border-radius:10px;border:0;background:rgba(0,0,0,0);color:inherit}.nav-search select{padding:10px 12px;border-radius:10px;border:0;background:rgba(0,0,0,0);color:inherit;margin-left:6px}.nav-actions{display:flex;align-items:center;gap:12px}.nav-feature{color:var(--muted);text-decoration:none;font-weight:700}.theme-picker{display:flex;gap:8px;align-items:center}.theme-swatch{width:28px;height:28px;border-radius:6px;border:1px solid rgba(255,255,255,.06);cursor:pointer;box-shadow:0 4px 10px rgba(0,0,0,.35)}.theme-swatch:hover{transform:translateY(-3px);transition:transform var(--hover-duration)}.theme-swatch:focus{outline:2px solid color-mix(in srgb, var(--accent-color) 45%, #fff);outline-offset:2px}.theme-toggle{padding:8px 10px;border-radius:10px;background:rgba(255,255,255,.02);border:1px solid rgba(255,255,255,.04);cursor:pointer}@media(max-width: 880px){.nav-search{max-width:92%;width:100%;padding:8px}.brand-text .sub{display:none}}@media(max-width: 640px){.nav-center{display:block}.nav-search{width:100%;padding:6px;border-radius:10px}.site-nav .nav-inner.container{padding:8px}.theme-swatch{width:24px;height:24px}}.brand:focus-within img,.brand img:focus{transform:scale(1.04);box-shadow:0 8px 30px rgba(127,91,255,.12)}.brand .title{font-weight:800;font-size:1.05rem}.brand .sub{font-size:.82rem;color:var(--muted)}.nav-links{display:flex;gap:12px;align-items:center}.nav-links a{color:var(--muted);text-decoration:none;padding:8px 12px;border-radius:10px}.nav-links a:hover{color:var(--accent-primary);background:var(--glass)}.theme-toggle{background:rgba(0,0,0,0);border:1px solid rgba(255,255,255,.04);color:var(--muted)}.theme-toggle.pulse{animation:togglePulse .44s cubic-bezier(0.2, 0.9, 0.3, 1)}@keyframes togglePulse{0%{transform:scale(0.98)}50%{transform:scale(1.06)}100%{transform:scale(1)}}.hero{display:flex;gap:28px;align-items:center;padding:28px 0 48px}.hero .left{flex:1}.kicker{display:inline-block;padding:6px 10px;background:linear-gradient(90deg, var(--accent-primary), var(--accent-secondary));color:#fff;border-radius:999px;font-weight:700;font-size:.8rem}.hero h1{font-size:2.6rem;margin:12px 0;line-height:1.02}.hero p{color:var(--muted);max-width:60ch}.cta{display:inline-block;margin-top:18px;padding:12px 20px;border-radius:12px;background:linear-gradient(90deg, var(--accent-primary), var(--accent-secondary));color:#051026;font-weight:800;text-decoration:none}.hero-spotlight{width:100%;display:flex;justify-content:center;align-items:center;padding:28px 0}.spotlight-card{display:grid;grid-template-columns:520px 1fr;gap:32px;align-items:center;width:100%;max-width:1280px}.spotlight-poster{position:relative;border-radius:18px;overflow:hidden}.spotlight-poster .poster{width:520px;height:680px;object-fit:cover;display:block;border-radius:14px}.spotlight-card.bg-hero{background-repeat:no-repeat;background-position:center;background-size:cover;border-radius:18px;padding:40px;box-shadow:0 40px 90px rgba(2,6,23,.6);color:var(--panel-contrast)}.spotlight-card.bg-hero .spotlight-meta{background:linear-gradient(180deg, rgba(2, 6, 18, 0.18), rgba(2, 6, 18, 0.52));padding:28px;border-radius:12px}.spotlight-card.bg-hero .spotlight-title{color:#fff}.spotlight-card.bg-hero .spotlight-sub{color:rgba(255,255,255,.9)}@media(min-width: 900px){.spotlight-card.bg-hero .spotlight-poster{display:none}.spotlight-card.bg-hero{grid-template-columns:1fr}}.poster-overlay{position:absolute;inset:0;display:flex;flex-direction:column;justify-content:space-between;padding:16px}.poster-overlay .kicker{background:linear-gradient(90deg, var(--accent-primary), var(--accent-secondary));color:#051026;font-weight:800;padding:8px 12px;border-radius:999px;display:inline-block}.poster-actions{display:flex;gap:12px;align-items:center}.play-btn{width:64px;height:64px;border-radius:999px;background:linear-gradient(90deg, var(--accent-primary), var(--accent-secondary));border:0;color:#051026;font-size:22px;display:inline-flex;align-items:center;justify-content:center;box-shadow:0 12px 36px rgba(7,12,30,.6);cursor:pointer}.spotlight-meta{padding:6px 0}.spotlight-title{font-size:2.1rem;margin:0 0 8px}.spotlight-sub{color:var(--muted);max-width:48ch}.genre-badges{display:flex;gap:8px;margin-top:14px}.genre-badges .badge{background:linear-gradient(90deg, rgba(255, 255, 255, 0.03), rgba(255, 255, 255, 0.02));padding:8px 10px;border-radius:999px;color:var(--muted);font-weight:800}.spotlight-ctas{display:flex;gap:12px;margin-top:16px}.carousel-controls{display:flex;gap:12px;align-items:center;margin-top:12px;justify-content:center}.carousel-dots{display:flex;gap:8px;align-items:center}.carousel-dots .dot{width:14px;height:14px;border-radius:50%;background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.04);cursor:pointer;transition:transform .18s ease}.carousel-dots .dot.active{background:linear-gradient(90deg, var(--accent-primary), var(--accent-secondary));box-shadow:0 10px 28px rgba(2,6,23,.45);transform:scale(1.12)}.carousel-controls .icon-btn{padding:10px 14px;border-radius:999px}@media(max-width: 980px){.spotlight-card{grid-template-columns:1fr;gap:18px}.spotlight-poster .poster{width:100%;height:420px}.spotlight-title{font-size:1.6rem}}.filters{display:flex;gap:12px;align-items:center;margin-bottom:18px}.filters input,.filters select{padding:12px;border-radius:12px;border:1px solid rgba(255,255,255,.04);background:rgba(0,0,0,0);color:inherit}.grid{display:grid;grid-template-columns:repeat(auto-fill, minmax(280px, 1fr));gap:28px;align-items:start}.grid{overflow:visible}.load-more-wrap{width:100%}.load-more{padding:12px 22px;border-radius:12px;background:linear-gradient(90deg, var(--accent-primary), var(--accent-secondary));color:#051026;border:0;font-weight:800;cursor:pointer}.load-more[disabled]{opacity:.6;cursor:default}.movie-card{position:relative;overflow:visible;border-radius:16px;padding:10px;background:rgba(0,0,0,0);transition:transform var(--hover-duration) var(--hover-ease),box-shadow .28s ease}.movie-card:hover{transform:translateY(-10px);z-index:30;box-shadow:0 40px 90px rgba(2,6,23,.55)}.movie-card:focus-within{z-index:30}.hidden-by-default{opacity:0;height:0;transform:translateY(12px);pointer-events:none;transition:opacity .45s ease,transform .45s ease,height .45s ease}.movie-card.revealed{opacity:1;height:auto;transform:translateY(0);pointer-events:auto}.poster{width:100%;height:420px;object-fit:cover;display:block;opacity:0;transform:scale(1.02);transition:opacity var(--poster-duration) var(--hover-ease),transform var(--poster-duration) var(--hover-ease),filter calc(var(--poster-duration)/1.1) var(--hover-ease)}.poster.loaded{opacity:1;transform:scale(1)}.meta{padding:14px}.title{font-weight:800;margin:0 0 6px;font-size:1.05rem}.sub{color:var(--muted);font-size:.95rem}.overlay{position:absolute;top:12px;right:12px;display:flex;gap:8px}.icon-btn{display:inline-flex;align-items:center;justify-content:center;width:48px;height:48px;border-radius:14px;background:linear-gradient(180deg, rgba(255, 255, 255, 0.02), rgba(0, 0, 0, 0.06));color:#fff;border:1px solid rgba(255,255,255,.04);cursor:pointer;box-shadow:0 6px 18px rgba(2,6,23,.35);transition:transform calc(var(--hover-duration)/2) var(--hover-ease),box-shadow calc(var(--hover-duration)/2) var(--hover-ease),background calc(var(--hover-duration)/2) var(--hover-ease)}.icon-btn:hover{transform:translateY(-4px);box-shadow:0 10px 26px rgba(2,6,23,.42)}.likes{display:inline-flex;gap:10px;align-items:center;color:var(--muted)}.card-inner{position:relative;border-radius:14px;overflow:hidden;background:linear-gradient(180deg, rgba(6, 10, 20, 0.35), rgba(6, 8, 16, 0.25));box-shadow:0 10px 30px rgba(2,6,23,.45),0 28px 60px rgba(2,6,23,.36);transition:transform var(--hover-duration) var(--hover-ease),box-shadow var(--hover-duration) var(--hover-ease),border-color calc(var(--hover-duration)/1.6) var(--hover-ease)}.card-inner::after{content:"";position:absolute;inset:6px;border-radius:10px;pointer-events:none;z-index:1;box-shadow:inset 0 0 0 1px rgba(255,255,255,.03),inset 0 6px 18px rgba(2,6,23,.18);background:linear-gradient(180deg, rgba(255, 255, 255, 0.015), rgba(0, 0, 0, 0.02));mix-blend-mode:overlay;opacity:.95;transition:opacity var(--hover-duration) var(--hover-ease),box-shadow var(--hover-duration) var(--hover-ease)}.movie-card{background:rgba(0,0,0,0);border:none}.movie-card .card-inner{transform-origin:center center}.movie-card::before{content:"";position:absolute;inset:0;z-index:0;border-radius:16px;padding:2px;background:linear-gradient(135deg, rgba(127, 91, 255, 0.14), rgba(255, 107, 129, 0.08));-webkit-mask:linear-gradient(#fff 0 0) content-box,linear-gradient(#fff 0 0);mask:linear-gradient(#fff 0 0) content-box,linear-gradient(#fff 0 0);pointer-events:none}.card-inner{z-index:2}.poster-wrap,.meta{z-index:3}.poster-wrap{position:relative;overflow:hidden;border-radius:12px 12px 0 0;z-index:1}.poster{width:100%;height:420px;object-fit:cover;display:block;transition:transform var(--poster-duration) var(--hover-ease),filter var(--poster-duration) var(--hover-ease)}.movie-card:hover .card-inner{transform:translateY(-10px) scale(1.02);box-shadow:0 44px 96px rgba(2,6,23,.7)}.movie-card:hover .poster{transform:scale(1.1) translateY(-10px);filter:brightness(1.04) saturate(1.08)}.play-overlay{position:absolute;left:50%;top:50%;transform:translate(-50%, -50%) scale(0.9);z-index:3;width:86px;height:86px;border-radius:50%;background:linear-gradient(90deg, var(--accent-primary), var(--accent-secondary));display:flex;align-items:center;justify-content:center;opacity:0;transition:opacity calc(var(--hover-duration)/1.1) var(--hover-ease),transform calc(var(--hover-duration)/1.1) var(--hover-ease)}.movie-card:hover .play-overlay{opacity:1;transform:translate(-50%, -50%) scale(1)}.play-overlay i{color:#051026;font-size:26px}.badge{position:absolute;left:12px;top:12px;z-index:4;padding:6px 10px;border-radius:999px;background:rgba(0,0,0,.42);color:#fff;font-weight:800;box-shadow:0 8px 28px rgba(2,6,23,.55);transition:transform calc(var(--hover-duration)/1.6) var(--hover-ease),opacity calc(var(--hover-duration)/1.6) var(--hover-ease)}.meta{padding:14px;position:relative;z-index:2}.title{font-weight:800;margin:0 0 6px;font-size:1.05rem}.card-meta{display:flex;justify-content:space-between;gap:12px;align-items:center}.info-strip{margin-top:10px;color:var(--muted);font-size:.95rem;max-height:48px;overflow:hidden}.actions{display:flex;gap:14px;margin-top:14px;align-items:center}@keyframes shimmer{0%{transform:translateX(-120%)}100%{transform:translateX(120%)}}.badge.new{position:relative;overflow:hidden}.badge.new::after{content:"";position:absolute;inset:0;transform:translateX(-120%);background:linear-gradient(90deg, rgba(255, 255, 255, 0.06), rgba(255, 255, 255, 0.16), rgba(255, 255, 255, 0.06));animation:shimmer 1.8s linear infinite}@media(max-width: 1100px){.poster{height:360px}}@media(max-width: 880px){.poster{height:300px}.poster-wrap .badge{left:8px;top:8px}}@media(max-width: 520px){.poster{height:220px}}.fav-btn{background:linear-gradient(90deg, rgba(255, 255, 255, 0.02), rgba(255, 255, 255, 0.01));border:1px solid rgba(255,255,255,.04)}.fav-btn.active{background:linear-gradient(90deg, var(--accent-primary), var(--accent-secondary));color:#051026}.toast-wrap{position:fixed;left:50%;transform:translateX(-50%);top:22px;z-index:9999;display:flex;flex-direction:column;gap:10px;align-items:center}.toast{min-width:220px;padding:10px 14px;border-radius:10px;background:rgba(2,6,23,.9);color:#eaf4ff;box-shadow:0 14px 40px rgba(4,6,20,.6);opacity:0;transform:translateY(-8px) scale(0.98);transition:opacity .28s,transform .28s}.toast.show{opacity:1;transform:translateY(0) scale(1)}.kbd-hint{position:fixed;right:18px;bottom:18px;z-index:900;background:rgba(255,255,255,.02);color:var(--muted);padding:8px 10px;border-radius:10px;font-size:.9rem}.focus-trap{outline:3px solid rgba(127,91,255,.12);outline-offset:4px}.like-badge{display:inline-flex;align-items:center;gap:8px;padding:6px 10px;border-radius:999px;background:linear-gradient(90deg, rgba(127, 91, 255, 0.12), rgba(255, 107, 129, 0.06));color:#fff;font-weight:700}.heart-pop{display:inline-block;transition:transform .28s cubic-bezier(0.2, 0.9, 0.3, 1)}.heart-pop.pop{transform:scale(1.28) rotate(-8deg)}.heart-burst{position:absolute;width:12px;height:12px;background:var(--accent-secondary);border-radius:50%;opacity:0;pointer-events:none}.burst-anim{animation:burst 700ms forwards}@keyframes burst{0%{opacity:1;transform:translateY(0) scale(0.6)}50%{opacity:1;transform:translateY(-14px) scale(1.05)}100%{opacity:0;transform:translateY(-28px) scale(1.6)}}.meta{transform-origin:50% 0;transition:transform .35s}.movie-card:hover .meta{transform:translateY(-6px)}#modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(1,2,7,.6);z-index:60;pointer-events:none}.modal-open #modal{display:flex;pointer-events:auto}.modal-inner{width:100%;max-width:920px;background:linear-gradient(180deg, #081024 0%, #071022 100%);padding:22px;border-radius:14px;border:1px solid rgba(255,255,255,.04)}.modal-inner .close{position:absolute;right:18px;top:18px;background:rgba(0,0,0,0);border:0;color:var(--muted);font-size:20px}.modal-inner .content{display:grid;grid-template-columns:1fr 1fr;gap:18px}.modal-inner img{width:100%;border-radius:10px}.modal-inner h2{margin:0}.comments{display:flex;flex-direction:column;gap:10px;max-height:320px;overflow:auto}.comment{padding:10px;background:rgba(255,255,255,.02);border-radius:8px;border:1px solid rgba(255,255,255,.02)}.comment-meta{color:var(--text);font-size:.95rem}.avatar{width:36px;height:36px;border-radius:8px;background:linear-gradient(90deg, var(--accent-primary), var(--accent-secondary));color:#051026;display:inline-flex;align-items:center;justify-content:center;font-weight:800}.confirm-box{max-width:320px;margin-top:8px}.sticker-wrap{position:relative;display:flex;align-items:center;justify-content:center;padding:24px}.sticker{width:240px;height:240px;object-fit:cover;border-radius:50%;border:6px solid rgba(255,255,255,.06);box-shadow:0 18px 44px rgba(2,6,23,.55);transform-origin:center center;opacity:0;transform:scale(0.97);transition:opacity calc(var(--hover-duration)/1.3) var(--hover-ease),transform calc(var(--hover-duration)/1.1) var(--hover-ease)}.sticker.loaded{opacity:1;transform:scale(1)}.sticker-badge{position:absolute;bottom:18px;left:50%;transform:translateX(-50%);background:linear-gradient(90deg, var(--accent-primary), var(--accent-secondary));padding:8px 12px;border-radius:999px;color:#051026;font-weight:800;box-shadow:0 6px 24px rgba(127,91,255,.12)}.modal-inner{opacity:0;transform:translateY(8px) scale(0.98);transition:opacity calc(var(--hover-duration)/2.2) var(--hover-ease),transform calc(var(--hover-duration)/2.2) var(--hover-ease)}.modal-open .modal-inner{opacity:1;transform:translateY(0) scale(1)}.modal-inner{max-height:86vh;overflow:auto}.modal-inner .close{position:sticky;top:12px;z-index:120;float:right;margin-right:6px}.modal-inner .content{margin-top:12px}.comment{transition:opacity .28s ease,transform .32s ease,height .32s ease}.comment.enter{opacity:0;transform:translateY(8px)}.comment.enter.show{opacity:1;transform:translateY(0)}.comment.removing{opacity:0;transform:translateY(-8px);height:0;padding:0;margin:0;overflow:hidden}.anime-desc-body{max-height:10rem;overflow:hidden;line-height:1.5;margin-bottom:8px;transition:max-height var(--hover-duration) ease}.anime-desc-body.expanded{max-height:60rem}.read-more-btn{background:rgba(0,0,0,0);border:none;color:var(--accent-color);cursor:pointer;font-weight:600;padding:6px 0;text-decoration:underline}.read-more-btn:focus{outline:2px solid color-mix(in srgb, var(--accent-color) 40%, #fff);outline-offset:2px}#modal-scroll-top{position:fixed;right:22px;bottom:22px;z-index:80;display:none;width:44px;height:44px;border-radius:10px;background:linear-gradient(90deg, var(--accent-primary), var(--accent-secondary));color:#051026;display:flex;align-items:center;justify-content:center;box-shadow:0 12px 36px rgba(7,12,30,.6);cursor:pointer}#modal-scroll-top.show{display:flex}footer{padding:28px 0;color:var(--muted);border-top:1px solid rgba(255,255,255,.03);margin-top:36px}section[aria-label="anime gallery"]{padding-bottom:96px}footer{position:relative;z-index:40}.poster{max-height:540px}html.revamp body{background:radial-gradient(1200px 600px at 10% 10%, rgba(127, 91, 255, 0.08), transparent 8%),linear-gradient(180deg, #061425 0%, #071228 55%);color:#e9f0ff}html.revamp{--accent-primary: #8b5cf6;--accent-secondary: #06b6d4;--glass: rgba(255,255,255,0.04);--muted: #9fb0c8 }html.revamp body{font-family:"Inter",system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial}.hero{padding:36px 0 48px}.spotlight-card{border-radius:20px;overflow:hidden;box-shadow:0 40px 100px rgba(3,6,18,.7);min-height:380px}.spotlight-card.bg-hero{background-blend-mode:overlay}.spotlight-meta{padding:36px;backdrop-filter:blur(6px) saturate(120%)}.spotlight-title{font-family:"Poppins","Inter",sans-serif;font-size:2.4rem;color:#fff;letter-spacing:-0.6px}.spotlight-sub{color:rgba(255,255,255,.86);font-size:1.05rem}.spotlight-poster .poster{width:560px;height:760px;object-fit:cover;border-radius:14px;box-shadow:0 34px 84px rgba(2,6,23,.66)}.grid{grid-template-columns:repeat(3, 1fr);gap:28px;align-items:start;grid-auto-rows:640px}.movie-card{display:flex;flex-direction:column;padding:0;background:linear-gradient(180deg, rgba(255, 255, 255, 0.02), rgba(255, 255, 255, 0.01));border-radius:16px;height:100%;overflow:hidden}.card-inner{padding:0;border-radius:14px}.poster-wrap{border-radius:14px;overflow:hidden;flex:0 0 auto;height:72%}.meta{padding:16px 18px;flex:1 1 auto;display:flex;flex-direction:column}.meta .info-strip{flex:1 1 auto;overflow:hidden;display:-webkit-box;-webkit-line-clamp:4;-webkit-box-orient:vertical;line-clamp:4;max-height:6.2rem}.card-inner{position:relative}.actions{margin-top:12px;display:flex;gap:12px;align-items:center;justify-content:flex-start;flex-shrink:0;background:linear-gradient(180deg, rgba(0, 0, 0, 0.35), rgba(0, 0, 0, 0.28));padding:8px;border-radius:10px;box-shadow:0 10px 24px rgba(2,6,23,.45);z-index:4}.likes{margin-left:auto;display:flex;gap:8px;align-items:center;color:#fff}.icon-btn{min-width:44px;min-height:44px;display:inline-flex;align-items:center;justify-content:center;background:rgba(255,255,255,.02);border-radius:10px;color:#fff}.icon-btn i{color:#fff}.poster{width:100%;height:100%;object-fit:cover;display:block}.movie-card .card-inner{background:linear-gradient(180deg, rgba(255, 255, 255, 0.02), rgba(6, 10, 20, 0.18));border-radius:14px;box-shadow:0 18px 40px rgba(3,6,18,.45),inset 0 1px 0 rgba(255,255,255,.02)}#fab-wrap{position:fixed;right:18px;bottom:18px;z-index:160;display:flex;flex-direction:column;align-items:flex-end;gap:8px}#fab{width:64px;height:64px;border-radius:999px;background:linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));color:#061022;border:0;box-shadow:0 18px 48px rgba(11,14,40,.6);display:inline-flex;align-items:center;justify-content:center;font-size:20px;cursor:pointer}#fab:active{transform:scale(0.98)}#fab-menu{background:linear-gradient(180deg, rgba(6, 12, 24, 0.92), rgba(6, 12, 24, 0.85));border-radius:12px;padding:8px;margin-top:6px;box-shadow:0 12px 36px rgba(2,6,23,.7)}.fab-item{display:block;padding:8px 14px;border-radius:8px;background:rgba(0,0,0,0);color:var(--muted);border:0;text-align:left;width:170px}.fab-item:hover{background:rgba(255,255,255,.02);color:#eaf4ff}.movie-card.revealed{animation:cardReveal .48s cubic-bezier(0.16, 0.84, 0.24, 1) both}@keyframes cardReveal{from{transform:translateY(10px) scale(0.995);opacity:0}to{transform:none;opacity:1}}.spotlight-poster .poster{width:100%;max-height:560px;height:auto}@media(max-width: 1100px){.grid{grid-template-columns:repeat(2, 1fr);gap:20px;grid-auto-rows:620px}}@media(max-width: 720px){.grid{grid-template-columns:1fr;gap:16px;grid-auto-rows:auto}.spotlight-poster .poster{height:420px}.spotlight-meta{padding:18px}.movie-card{height:auto}.poster-wrap{height:auto}}.movie-card:hover::before{box-shadow:0 40px 80px rgba(139,92,246,.12)}.load-more{padding:12px 24px;border-radius:999px;font-weight:800;box-shadow:0 14px 40px rgba(2,6,23,.5)}.sr-only.aria-live{position:absolute;left:-9999px}footer{background:linear-gradient(180deg, rgba(4, 6, 12, 0.4), rgba(4, 6, 12, 0.8));color:rgba(255,255,255,.82)}.modal-inner{background:linear-gradient(180deg, #081324 0%, #071022 100%)}.icon-btn,.cta{padding:10px 12px;border-radius:10px}.spotlight-card.bg-hero{background-size:cover;background-position:center center;background-repeat:no-repeat}@media(max-width: 880px){.hero h1{font-size:1.9rem}.poster{height:220px}.modal-inner .content{grid-template-columns:1fr}}button:focus,a:focus,input:focus,select:focus,textarea:focus{outline:3px solid rgba(127,91,255,.12);outline-offset:3px}.hidden{display:none}.movie-list{display:flex;flex-wrap:wrap}#modal{transition:background-color .36s ease,backdrop-filter .36s ease}.modal-open #modal{backdrop-filter:blur(8px);background:rgba(2,6,18,.66)}.modal-inner{position:relative;overflow:visible;padding:26px;border-radius:14px}.modal-inner::before{content:"";position:absolute;inset:0;pointer-events:none;border-radius:14px;mix-blend-mode:overlay;background:linear-gradient(120deg, rgba(127, 91, 255, 0.02), rgba(255, 107, 129, 0.01))}.close{background:rgba(2,6,23,.45);padding:8px 10px;border-radius:10px;border:1px solid rgba(255,255,255,.04);transition:transform .18s ease,background .18s ease}.close:hover{transform:scale(1.06);background:rgba(255,255,255,.03)}.movie-card.skeleton{background:linear-gradient(90deg, #222 0%, #2b2b2b 40%, #222 100%);border-radius:12px;overflow:hidden;display:inline-block;width:220px;margin:8px;animation:pulse 1.2s ease-in-out infinite}@keyframes pulse{0%{filter:brightness(1)}50%{filter:brightness(1.08)}100%{filter:brightness(1)}}.movie-card.skeleton::before{content:"";display:block;height:72%;background:linear-gradient(180deg, rgba(255, 255, 255, 0.03) 0%, rgba(255, 255, 255, 0.01) 100%)}.movie-card.skeleton::after{content:"";display:block;height:16px;margin:12px 10px;background:rgba(255,255,255,.03);border-radius:4px}.sticker-wrap{position:relative;display:flex;align-items:center;justify-content:center;padding:18px}.sticker-wrap::before{content:"";position:absolute;width:380px;height:380px;border-radius:50%;left:50%;top:46%;transform:translate(-50%, -50%) scale(0.9);background:radial-gradient(closest-side, rgba(127, 91, 255, 0.12), transparent 50%),radial-gradient(closest-side, rgba(255, 107, 129, 0.06), transparent 44%);filter:blur(18px) saturate(105%);opacity:0;transition:opacity calc(var(--hover-duration)/1.1) var(--hover-ease),transform calc(var(--hover-duration)/1.1) var(--hover-ease);z-index:0}.modal-open .sticker-wrap::before{opacity:1;transform:translate(-50%, -50%) scale(1)}.sticker{position:relative;z-index:1;width:260px;height:260px;border-radius:50%;border:6px solid rgba(255,255,255,.06);box-shadow:0 30px 80px rgba(7,12,30,.7);transform-origin:center;opacity:0;transform:translateY(8px) scale(0.94) rotate(-6deg);transition:box-shadow var(--hover-duration),transform var(--hover-duration) var(--hover-ease),opacity calc(var(--hover-duration)/1.8) var(--hover-ease)}.modal-open .sticker{opacity:1;transform:translateY(0) scale(1) rotate(0);animation:stickerIn .52s cubic-bezier(0.18, 0.9, 0.25, 1)}@keyframes stickerIn{0%{opacity:0;transform:translateY(12px) scale(0.78) rotate(-8deg)}60%{transform:translateY(-8px) scale(1.06) rotate(6deg)}100%{opacity:1;transform:translateY(0) scale(1) rotate(0)}}.modal-inner .title{font-size:1.45rem;margin-bottom:6px}.modal-inner .sub{color:var(--muted);line-height:1.6}.creative-hero-bg{background:linear-gradient(120deg, #081224 0%, #0e0620 35%, #1b022b 100%);background-size:200% 200%;animation:heroShift 12s ease-in-out infinite}@keyframes heroShift{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}.theme-creative body,.theme-creative .container{color:#e9f3ff}.theme-creative .site-nav{background:linear-gradient(90deg, rgba(7, 8, 30, 0.6), rgba(12, 6, 40, 0.35));border-bottom:1px solid rgba(127,91,255,.12)}.theme-creative .card-inner{background:linear-gradient(180deg, rgba(255, 255, 255, 0.02), rgba(2, 6, 23, 0.18));box-shadow:0 18px 60px rgba(12,8,40,.6);border:1px solid rgba(127,91,255,.08)}.theme-creative .movie-card::before{background:linear-gradient(135deg, rgba(127, 91, 255, 0.22), rgba(255, 107, 129, 0.12))}.theme-creative .title{color:#fff}.theme-creative .sub{color:rgba(255,255,255,.85)}.theme-creative .grid{grid-template-columns:repeat(auto-fill, minmax(240px, 1fr));gap:22px}.theme-creative .cta{background:linear-gradient(90deg, #ff6bcd, #7f5bff);color:#fff;box-shadow:0 12px 36px rgba(127,91,255,.18)}.theme-creative .load-more{background:linear-gradient(90deg, #7f5bff, #ff6bcd)}.theme-creative .spotlight-card.bg-hero{filter:contrast(1.02) saturate(1.05)}.theme-creative .spotlight-meta{backdrop-filter:blur(8px);background:linear-gradient(90deg, rgba(3, 6, 14, 0.42), rgba(3, 6, 14, 0.18))}.theme-creative .carousel-dots .dot{box-shadow:0 6px 18px rgba(127,91,255,.18)}.theme-creative .carousel-dots .dot.active{box-shadow:0 16px 48px rgba(127,91,255,.28)}.theme-creative .movie-card:hover .card-inner{transform:translateY(-12px) scale(1.03);box-shadow:0 48px 110px rgba(7,6,30,.8)}.theme-creative .poster{filter:contrast(1.02) saturate(1.06)}.theme-creative .modal-inner{border:1px solid rgba(127,91,255,.06)}.trailer-wrap{margin:12px 0 18px;width:100%;display:block}.trailer-iframe{width:100%;height:220px;border-radius:10px;border:0;box-shadow:0 12px 32px rgba(2,6,23,.6)}.skeleton{background:linear-gradient(90deg, rgba(255, 255, 255, 0.02), rgba(255, 255, 255, 0.04));position:relative;overflow:hidden}.skeleton::after{content:"";position:absolute;inset:0;background:linear-gradient(90deg, rgba(255, 255, 255, 0.01), rgba(255, 255, 255, 0.06), rgba(255, 255, 255, 0.01));transform:translateX(-100%);animation:skew 1.2s linear infinite}@keyframes skew{0%{transform:translateX(-100%)}100%{transform:translateX(100%)}}.poster.skeleton{height:360px;border-radius:12px}.card-inner.skeleton{height:460px}.sr-only{position:absolute !important;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0}@media(max-width: 880px){.trailer-iframe{height:180px}}.comments{display:flex;flex-direction:column;gap:12px;max-height:360px;overflow:auto;padding:6px}.comments::-webkit-scrollbar{width:10px}.comments::-webkit-scrollbar-thumb{background:linear-gradient(180deg, var(--accent-primary), var(--accent-secondary));border-radius:999px}.comment{display:flex;gap:12px;align-items:flex-start;padding:12px;background:linear-gradient(180deg, rgba(255, 255, 255, 0.015), rgba(255, 255, 255, 0.01));border-radius:10px;border:1px solid rgba(255,255,255,.02)}.comment .avatar{width:44px;height:44px;border-radius:10px;flex:0 0 44px;background:linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));display:flex;align-items:center;justify-content:center;color:#051026;font-weight:800}.comment .body{flex:1}.comment .meta{display:flex;gap:8px;align-items:center;font-size:.82rem;color:var(--muted);margin-bottom:6px}.comment p{margin:0;color:#e6f6ff}form{display:flex;flex-direction:column;gap:10px;margin-top:10px}form input[type=text],form textarea{padding:12px;border-radius:10px;border:1px solid rgba(255,255,255,.04);background:rgba(255,255,255,.02);color:inherit;resize:vertical}form textarea{min-height:84px}form button#submitComment{align-self:flex-start;padding:10px 14px;background:linear-gradient(90deg, var(--accent-primary), var(--accent-secondary));color:#051026;font-weight:800;border-radius:10px;border:none;cursor:pointer;transition:transform .18s,box-shadow .18s}form button#submitComment:hover{transform:translateY(-2px);box-shadow:0 10px 30px rgba(127,91,255,.12)}small#small{color:#ffadb3}.movie-card{position:relative;overflow:visible}.movie-card::after{content:"";position:absolute;left:-40%;top:-30%;width:40%;height:180%;transform:rotate(24deg) translateX(-120%);background:linear-gradient(90deg, rgba(255, 255, 255, 0.06), rgba(255, 255, 255, 0.12), rgba(255, 255, 255, 0.02));opacity:0;transition:transform var(--hover-duration) var(--hover-ease),opacity calc(var(--hover-duration)/1.2) var(--hover-ease);pointer-events:none}.movie-card:hover::after{transform:rotate(24deg) translateX(220%);opacity:.18}@media(max-width: 620px){.sticker-wrap::before{width:280px;height:280px}.sticker{width:200px;height:200px}}.comment{position:relative;padding:12px}.comment-close{background:rgba(0,0,0,0);border:0;color:var(--muted);font-size:20px;line-height:1;cursor:pointer;padding:6px 8px;border-radius:8px;transition:background .16s,color .16s}.comment-close{opacity:0;transform:translateY(-2px);transition:opacity .18s ease,transform .18s ease}.comment:focus-within .comment-close,.comment:hover .comment-close{opacity:1;transform:translateY(0)}.comment-close:hover{background:rgba(255,255,255,.03);color:var(--accent-secondary)}.confirm-box{margin-top:10px;display:flex;align-items:center;justify-content:space-between;gap:12px;padding:8px 10px;border-radius:10px;background:linear-gradient(90deg, rgba(255, 255, 255, 0.02), rgba(255, 255, 255, 0.01));border:1px solid rgba(255,255,255,.03)}.confirm-box span{color:var(--muted);font-size:.92rem}.confirm-actions{display:flex;gap:8px}.confirm-actions button{padding:8px 10px;border-radius:8px;border:0;cursor:pointer}.confirm-actions .confirm-yes{background:linear-gradient(90deg, var(--accent-primary), var(--accent-secondary));color:#051026;font-weight:700}.confirm-actions .confirm-no{background:rgba(0,0,0,0);border:1px solid rgba(255,255,255,.04);color:var(--muted)}:root{--card-pop-duration: 520ms;--card-ease: cubic-bezier(.18,.9,.25,1) }.movie-card{opacity:0;transform:translateY(18px);transition:opacity .56s var(--card-ease),transform .56s var(--card-ease)}.movie-card.show{opacity:1;transform:translateY(0)}.card-inner{transition:transform calc(var(--hover-duration)/2.6) var(--hover-ease),box-shadow calc(var(--hover-duration)/2.6) var(--hover-ease)}.card-inner:hover{box-shadow:0 50px 110px rgba(2,6,23,.72)}.poster-wrap::after{content:"";position:absolute;inset:0;pointer-events:none;background:linear-gradient(120deg, rgba(255, 255, 255, 0.05), rgba(255, 255, 255, 0.015));mix-blend-mode:overlay;opacity:0;transform:translateX(-26%);transition:opacity calc(var(--hover-duration)/2.6) var(--hover-ease),transform calc(var(--hover-duration)/2.6) var(--hover-ease)}.movie-card:hover .poster-wrap::after{opacity:.14}.poster-wrap{--shine-x:50%}.poster-wrap::after{background:radial-gradient(1200px circle at var(--shine-x) 30%, rgba(255, 255, 255, 0.14), transparent 10%)}.movie-card.idle{animation:floaty 6s ease-in-out infinite}@keyframes floaty{0%{transform:translateY(0)}50%{transform:translateY(-4px)}100%{transform:translateY(0)}}.actions .icon-btn:focus{outline:2px solid rgba(127,91,255,.12);outline-offset:3px}.theme-warm{--accent-primary: #ff7a59;--accent-secondary: #ffd66b;--bg-0: #0b0710;--bg-1: #0f0b15;--panel: rgba(255,255,255,0.03);--glass: rgba(255,255,255,0.02);--glass-2: rgba(255,255,255,0.01);--text: #f6efe9;--muted: #d7c8b9}.theme-cool{--accent-primary: #6ee7ff;--accent-secondary: #7c5cff;--bg-0: #05060b;--bg-1: #061126;--panel: rgba(255,255,255,0.02);--glass: rgba(255,255,255,0.02);--glass-2: rgba(255,255,255,0.01);--text: #eaf8ff;--muted: #9fc8d9}.theme-pastel{--accent-primary: #a78bfa;--accent-secondary: #f472b6;--bg-0: #f8fafc;--bg-1: #f0f4f8;--panel: rgba(6,10,20,0.03);--glass: rgba(6,10,20,0.02);--glass-2: rgba(6,10,20,0.01);--text: #07122a;--muted: #6b7280}.theme-netflix{--accent-primary: #e50914;--accent-secondary: #b81d24;--bg-0: #050505;--bg-1: #0b0b0b;--panel: rgba(255,255,255,0.02);--glass: rgba(255,255,255,0.02);--text: #ffffff;--muted: #9b9b9b}.theme-netflix .card-inner{background:linear-gradient(180deg, rgba(6, 6, 6, 0.7), rgba(6, 6, 6, 0.85));box-shadow:0 14px 44px rgba(0,0,0,.7)}.theme-netflix .badge{background:linear-gradient(90deg, var(--accent-primary), var(--accent-secondary));color:#fff}.theme-netflix .poster{box-shadow:0 24px 60px rgba(0,0,0,.7)}.theme-netflix .play-overlay{background:linear-gradient(90deg, var(--accent-primary), #ff3b3b)}.theme-picker{display:flex;gap:8px;align-items:center}.theme-swatch{width:28px;height:28px;border-radius:6px;cursor:pointer;border:2px solid rgba(255,255,255,.04)}.theme-swatch:focus{outline:3px solid rgba(127,91,255,.12);outline-offset:3px}',""]);const s=i},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var a="",r=void 0!==t[5];return t[4]&&(a+="@supports (".concat(t[4],") {")),t[2]&&(a+="@media ".concat(t[2]," {")),r&&(a+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),a+=e(t),r&&(a+="}"),t[2]&&(a+="}"),t[4]&&(a+="}"),a})).join("")},t.i=function(e,a,r,o,n){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var s=0;s<this.length;s++){var d=this[s][0];null!=d&&(i[d]=!0)}for(var c=0;c<e.length;c++){var l=[].concat(e[c]);r&&i[l[0]]||(void 0!==n&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=n),a&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=a):l[2]=a),o&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=o):l[4]="".concat(o)),t.push(l))}},t}},81:e=>{e.exports=function(e){return e[1]}},379:e=>{var t=[];function a(e){for(var a=-1,r=0;r<t.length;r++)if(t[r].identifier===e){a=r;break}return a}function r(e,r){for(var n={},i=[],s=0;s<e.length;s++){var d=e[s],c=r.base?d[0]+r.base:d[0],l=n[c]||0,p="".concat(c," ").concat(l);n[c]=l+1;var m=a(p),g={css:d[1],media:d[2],sourceMap:d[3],supports:d[4],layer:d[5]};if(-1!==m)t[m].references++,t[m].updater(g);else{var u=o(g,r);r.byIndex=s,t.splice(s,0,{identifier:p,updater:u,references:1})}i.push(p)}return i}function o(e,t){var a=t.domAPI(t);return a.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;a.update(e=t)}else a.remove()}}e.exports=function(e,o){var n=r(e=e||[],o=o||{});return function(e){e=e||[];for(var i=0;i<n.length;i++){var s=a(n[i]);t[s].references--}for(var d=r(e,o),c=0;c<n.length;c++){var l=a(n[c]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}n=d}}},569:e=>{var t={};e.exports=function(e,a){var r=function(e){if(void 0===t[e]){var a=document.querySelector(e);if(window.HTMLIFrameElement&&a instanceof window.HTMLIFrameElement)try{a=a.contentDocument.head}catch(e){a=null}t[e]=a}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(a)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,a)=>{e.exports=function(e){var t=a.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(a){!function(e,t,a){var r="";a.supports&&(r+="@supports (".concat(a.supports,") {")),a.media&&(r+="@media ".concat(a.media," {"));var o=void 0!==a.layer;o&&(r+="@layer".concat(a.layer.length>0?" ".concat(a.layer):""," {")),r+=a.css,o&&(r+="}"),a.media&&(r+="}"),a.supports&&(r+="}");var n=a.sourceMap;n&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(n))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,a)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},212:(e,t,a)=>{var r=a(379),o=a.n(r),n=a(795),i=a.n(n),s=a(569),d=a.n(s),c=a(565),l=a.n(c),p=a(216),m=a.n(p),g=a(589),u=a.n(g),b=a(913),f={};f.styleTagTransform=u(),f.setAttributes=l(),f.insert=d().bind(null,"head"),f.domAPI=i(),f.insertStyleElement=m(),o()(b.Z,f),b.Z&&b.Z.locals&&b.Z.locals;var h=a(561),x=a(224);function v(e){const t=document.getElementById("theme-toggle");t&&(t.innerHTML="light"===e?'<i class="fas fa-sun"></i>':'<i class="fas fa-moon"></i>')}function y(e){const t=document.documentElement;if(e){"light"===e?(t.classList.remove("dark"),v("light")):(t.classList.add("dark"),v("dark"));try{localStorage.setItem("theme",e)}catch(e){}}}function w(e){const t=document.documentElement;Array.from(t.classList).forEach((e=>{e.startsWith("theme-")&&t.classList.remove(e)})),e&&t.classList.add(e);try{localStorage.setItem("themeClass",e||"")}catch(e){}}const k={initTheme:function(){y(localStorage.getItem("theme")||"dark"),document.addEventListener("click",(e=>{const t=e.target.closest&&e.target.closest("#theme-toggle");t&&(y(document.documentElement.classList.contains("dark")?"light":"dark"),t.classList.add("pulse"),setTimeout((()=>t.classList.remove("pulse")),520))})),document.addEventListener("click",(e=>{const t=e.target.closest&&e.target.closest(".theme-swatch");if(!t)return;const a=t.dataset.theme;if(a){w(a);try{"function"==typeof showToast&&showToast("Theme applied",1200)}catch(e){}}}));const e=localStorage.getItem("themeClass");e&&w(e)},applyTheme:y,applyThemeClass:w,updateThemeToggleIcon:v},E=new h.Z,L="https://api.jikan.moe/v4/seasons/now",I="https://us-central1-involvement-api.cloudfunctions.net/capstoneApi/apps/qvRewcmh88OIPOPoLZPA/likes/",C="https://us-central1-involvement-api.cloudfunctions.net/capstoneApi/apps/qvRewcmh88OIPOPoLZPA/comments",S=document.getElementById("movie-list"),T=document.getElementById("modal"),N=document.getElementById("close-modal");let A=null;const z=document.getElementById("submitComment"),$=document.getElementById("InputName"),j=document.getElementById("commentToPost"),B=document.getElementById("small");let q,Y=1,M=null;document.documentElement.classList.add("theme-creative");const R=document.querySelector(".brand");R&&R.addEventListener("click",(e=>{e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})}));const _=document.createElement("button");_.id="modal-scroll-top",_.setAttribute("aria-label","Scroll to top"),_.innerHTML='<i class="fas fa-arrow-up"></i>',document.body.appendChild(_);const P=document.createElement("div");P.setAttribute("aria-live","polite"),P.className="sr-only aria-live",document.body.appendChild(P);const D=document.createElement("div");function H(e,t=2200){const a=document.createElement("div");a.className="toast",a.innerText=e,D.appendChild(a),requestAnimationFrame((()=>a.classList.add("show"))),setTimeout((()=>{a.classList.remove("show"),setTimeout((()=>{a&&a.parentNode&&a.parentNode.removeChild(a)}),260)}),t)}function O(e,t){const a=e.querySelector(".fav-btn");if(!a)return;const r=a.classList.toggle("active"),o=JSON.parse(localStorage.getItem("favs")||"[]");if(r)o.push(t),H("Added to favorites");else{const e=o.indexOf(Number(t));e>-1&&o.splice(e,1),H("Removed from favorites")}localStorage.setItem("favs",JSON.stringify(o))}D.className="toast-wrap",document.body.appendChild(D),document.addEventListener("keydown",(e=>{if("/"===e.key){e.preventDefault();const t=document.getElementById("search");t&&t.focus()}if(document.documentElement.classList.contains("modal-open"))return;const t=document.activeElement,a=t&&t.closest?t.closest(".movie-card"):null;function r(e){const t=Number(e);if(Number.isNaN(t))return-1;const a=E.animes.findIndex((e=>e&&Number(e.id)===t));return a>=0?a:t}if("l"===e.key&&a){const e=r(a.dataset.id);e>=0&&(E.increaseLikes(e),H("Liked"),(0,x.fu)(e,I))}if("f"===e.key&&a){const e=r(a.dataset.id);e>=0&&O(a,e)}if("o"===e.key&&a){const e=r(a.dataset.id);e>=0&&(E.loadModalInfo(e,C),document.documentElement.classList.add("modal-open"),setTimeout((()=>N.focus()),0))}})),k.initTheme(),async function(){try{await(0,x.hJ)(L,2500)||H("Public anime API is unavailable — showing sample data",4800)}catch(r){H("Public anime API is unavailable — showing sample data",4800)}await E.loadData(S,L,I),setTimeout((()=>{Array.from(document.querySelectorAll(".movie-card")).forEach(((e,t)=>{t>=12&&e.classList.add("hidden-by-default")}))}),120);const e=document.createElement("div");e.className="load-more-wrap container",e.style.display="flex",e.style.justifyContent="center",e.style.margin="28px 0",q=document.createElement("button"),q.className="cta load-more",q.innerText="Load more",e.appendChild(q),document.querySelector('section.container[aria-label="anime gallery"]').appendChild(e);let t=!1;async function a(){if(t)return!1;t=!0;const e=Y+1;try{let a;a=M&&M.length>2?`https://api.jikan.moe/v4/anime?q=${encodeURIComponent(M)}&limit=24&page=${e}`:L.includes("/seasons/now")?`https://api.jikan.moe/v4/top/anime?page=${e}&limit=24`:`${L}?page=${e}`;const r=[];for(let e=0;e<6;e+=1){const e=document.createElement("div");e.className="movie-card skeleton",e.style.minHeight="360px",S.appendChild(e),r.push(e)}const o=await E.loadData(S,a,I,{append:!0,hidden:!0});return r.forEach((e=>{e.parentNode&&e.parentNode.removeChild(e)})),t=!1,o}catch(e){return t=!1,0}}setTimeout((()=>{a()}),800),q&&q.addEventListener("click",(async()=>{Y+=1,q.disabled=!0,q.innerText="Loading...";try{let e;e=M&&M.length>2?`https://api.jikan.moe/v4/anime?q=${encodeURIComponent(M)}&limit=24&page=${Y}`:L.includes("/seasons/now")?`https://api.jikan.moe/v4/top/anime?page=${Y}&limit=24`:`${L}?page=${Y}`;const t=Array.from(document.querySelectorAll(".hidden-by-default"));t.length>0?(t.slice(0,12).forEach((e=>{e.classList.remove("hidden-by-default"),e.classList.add("revealed")})),Y+=1,setTimeout((()=>a()),240),added=t.length):await E.loadData(S,e,I,{append:!0});const r=Array.from(document.querySelectorAll(".hidden-by-default")),o=12;r.slice(0,o).forEach(((e,t)=>{e.classList.remove("hidden-by-default"),e.classList.add("revealed")})),(!added||added<24)&&(q.style.display="none")}catch(e){console.warn("Load more failed",e),H("Failed to load more items")}q&&(q.disabled=!1,q.innerText="Load more")}));try{const o=document.getElementById("featured-poster"),n=document.querySelector(".spotlight-title"),i=document.querySelector(".play-btn"),s=document.getElementById("featured-fav"),d=E.animes&&E.animes.length?E.animes.slice(0,5):[];let c=0;const l=document.getElementById("carousel-dots"),p=document.getElementById("carousel-prev"),m=document.getElementById("carousel-next");function g(e){const t=d[e];if(!t)return;const a=document.querySelector(".spotlight-card");if(a&&t.image){a.classList.add("bg-hero");const e=t.imageHigh||t.image;a.style.backgroundImage=`linear-gradient(180deg, rgba(2,6,18,0.48), rgba(2,6,18,0.18)), url('${e}')`,a.style.backgroundSize="cover",a.style.backgroundPosition="center"}o&&(t.imageHigh||t.image)&&o.setAttribute("src",t.imageHigh||t.image),n&&(n.innerText=t.title||"Featured Anime"),l&&l.querySelectorAll("button").forEach(((t,a)=>t.classList.toggle("active",a===e))),P.textContent=t&&t.title?`Now featuring ${t.title}`:""}l&&(l.innerHTML="",d.forEach(((e,t)=>{const a=document.createElement("button");a.className="dot",a.title=e.title||`Featured ${t+1}`,a.addEventListener("click",(()=>{c=t,g(c)})),l.appendChild(a)}))),p&&p.addEventListener("click",(()=>{c=(c-1+d.length)%d.length,g(c)})),m&&m.addEventListener("click",(()=>{c=(c+1)%d.length,g(c)})),i&&i.addEventListener("click",(()=>{E.loadModalInfo(c,C),A=document.activeElement,document.documentElement.classList.add("modal-open"),setTimeout((()=>N.focus()),0)}));const u=document.getElementById("featured-poster");u&&(u.style.cursor="pointer",u.addEventListener("click",(()=>{const e=E.animes&&E.animes.length?E.animes.indexOf(d[c]):c;E.loadModalInfo(e,C),A=document.activeElement,document.documentElement.classList.add("modal-open"),setTimeout((()=>N.focus()),0)}))),s&&s.addEventListener("click",(()=>{const e=JSON.parse(localStorage.getItem("favs")||"[]"),t=E.animes&&E.animes.length?E.animes.indexOf(d[c]):-1;if(-1===t)return;const a=e.indexOf(t);-1===a?(e.push(t),s.classList.add("active"),H("Added to favorites")):(e.splice(a,1),s.classList.remove("active"),H("Removed from favorites")),localStorage.setItem("favs",JSON.stringify(e))})),d.length>1?(g(c),setInterval((()=>{c=(c+1)%d.length,g(c)}),6e3)):1===d.length&&g(0)}catch(b){console.warn("Featured wiring failed",b)}Array.from(document.querySelectorAll(".poster")).forEach((e=>{e.complete?e.classList.add("loaded"):e.addEventListener("load",(()=>e.classList.add("loaded")))})),Array.from(document.querySelectorAll(".movie-card")).forEach(((e,t)=>{setTimeout((()=>e.classList.add("show")),80*t);const a=e.querySelector(".card-inner"),r=e.querySelector(".poster-wrap");a&&(e.addEventListener("pointermove",(t=>{const o=e.getBoundingClientRect(),n=(t.clientX-o.left)/o.width-.5,i=(6*-((t.clientY-o.top)/o.height-.5)).toFixed(2),s=(8*n).toFixed(2);a.style.transform=`perspective(900px) rotateX(${i}deg) rotateY(${s}deg) translateZ(0)`,r&&r.style.setProperty("--shine-x",100*(n+.5)+"%")})),e.addEventListener("pointerleave",(()=>{a.style.transform="",r&&r.style.setProperty("--shine-x","50%")})))}))}();const F=document.getElementById("search");function X(e,t){let a;return(...r)=>{clearTimeout(a),a=setTimeout((()=>e(...r)),t)}}const J=X((e=>function(e){const t=e.trim().toLowerCase();Array.from(document.querySelectorAll(".movie-card")).forEach((e=>{(e.dataset.title||"").includes(t)?e.style.display="":e.style.display="none"}))}(e.target.value)),250);F&&F.addEventListener("input",J);const U=X((async e=>{const t=e.target.value.trim();if(Y=1,M=t,t.length<=2)return await E.loadData(S,L,I),void(void 0!==q&&(q.style.display=""));const a=`https://api.jikan.moe/v4/anime?q=${encodeURIComponent(t)}&limit=24&page=1`,r=await E.loadData(S,a,I);void 0!==q&&(q.style.display=r&&r>=24?"":"none")}),450);F&&F.addEventListener("keyup",U),S.addEventListener("click",(e=>{const t=e.target.closest(".movie-card");if(!t)return;const a=(e=>{const t=Number(e);if(Number.isNaN(t))return-1;const a=E.animes.findIndex((e=>e&&Number(e.id)===t));return a>=0?a:t})(t.dataset.id);if(e.target.closest(".comment-btn")){const e=C;return a>=0&&E.loadModalInfo(a,e),A=document.activeElement,document.documentElement.classList.add("modal-open"),void setTimeout((()=>N.focus()),0)}if(!e.target.closest(".icon-btn")&&!e.target.closest(".overlay"))return a>=0&&E.loadModalInfo(a,C),A=document.activeElement,document.documentElement.classList.add("modal-open"),void setTimeout((()=>N.focus()),0);if(e.target.closest(".fav-btn"))return t.setAttribute("tabindex","-1"),t.focus(),void(a>=0&&O(t,a));const r=e.target.closest(".like-btn");if(r){a>=0&&(E.increaseLikes(a),(0,x.fu)(a,I));const e=document.getElementById(`span-${a}`);if(e)try{e.animate([{transform:"scale(1)"},{transform:"scale(1.28)"},{transform:"scale(1)"}],{duration:320,easing:"cubic-bezier(.2,.9,.3,1)"})}catch(t){e.classList.add("pop"),setTimeout((()=>e.classList.remove("pop")),320)}const o=document.createElement("div");o.className="heart-burst burst-anim";const n=r.getBoundingClientRect(),i=t.getBoundingClientRect();o.style.left=n.left-i.left+n.width/2-6+"px",o.style.top=n.top-i.top-6+"px",t.appendChild(o),setTimeout((()=>{o.parentNode&&o.parentNode.removeChild(o)}),800)}})),document.addEventListener("load",(e=>{const t=e.target;t&&t.matches&&t.matches("img.poster")&&t.classList.add("loaded")}),!0),setTimeout((()=>{document.querySelectorAll("img.poster").forEach((e=>{e.complete&&e.classList.add("loaded")}))}),350),N.addEventListener("click",(()=>{document.documentElement.classList.remove("modal-open"),P.textContent="Closed details dialog",A&&"function"==typeof A.focus&&A.focus()}));const W=document.querySelector(".modal-inner");W&&W.addEventListener("scroll",(()=>{W.scrollTop>120?_.classList.add("show"):_.classList.remove("show")})),_.addEventListener("click",(()=>{W&&W.scrollTo({top:0,behavior:"smooth"})})),T.addEventListener("click",(e=>{e.target===T&&(document.documentElement.classList.remove("modal-open"),P.textContent="Closed details dialog",A&&"function"==typeof A.focus&&A.focus())})),document.addEventListener("keydown",(e=>{"Escape"===e.key&&document.documentElement.classList.contains("modal-open")&&(document.documentElement.classList.remove("modal-open"),P.textContent="Closed details dialog",A&&"function"==typeof A.focus&&A.focus())})),document.addEventListener("focusin",(e=>{if(!document.documentElement.classList.contains("modal-open"))return;const t=document.getElementById("modal");if(t&&!t.contains(e.target)){const e=document.getElementById("close-modal");e&&e.focus()}})),z.addEventListener("click",(e=>{e.preventDefault(),0!==$.value.length&&0!==j.value.length?E.addNewComment(C):B.classList.add("show")}));const Z=document.getElementById("comment-form");Z&&Z.addEventListener("submit",(e=>{e.preventDefault(),E.addNewComment(C)}));const K=localStorage.getItem("themeClass");K&&function(e){const t=document.documentElement;Array.from(t.classList).forEach((e=>{e.startsWith("theme-")&&t.classList.remove(e)})),e&&t.classList.add(e),localStorage.setItem("themeClass",e||"")}(K);const G=document.getElementById("fab"),V=document.getElementById("fab-menu");G&&G.addEventListener("click",(()=>{V&&(V.classList.contains("hidden")?(V.classList.remove("hidden"),V.setAttribute("aria-hidden","false")):(V.classList.add("hidden"),V.setAttribute("aria-hidden","true")))})),V&&V.addEventListener("click",(e=>{const t=e.target&&e.target.dataset&&e.target.dataset.action;if(t){if("toggle-theme"===t){const e=document.documentElement.classList.contains("dark");k.applyTheme(e?"light":"dark"),H("Theme toggled",900)}if("focus-search"===t){const e=document.getElementById("search");e&&e.focus()}"scroll-top"===t&&window.scrollTo({top:0,behavior:"smooth"}),V.classList.add("hidden"),V.setAttribute("aria-hidden","true")}}))},224:(e,t,a)=>{a.d(t,{RV:()=>s,WI:()=>r,fu:()=>d,hJ:()=>o,li:()=>i,nN:()=>n});const r=async e=>{try{const t=await fetch(e,{method:"GET"});return await t.json()}catch(e){throw console.warn("getAnime fetch failed",e),e}};async function o(e,t=3e3){const a=new AbortController,r=setTimeout((()=>a.abort()),t);try{const t=await fetch(e,{method:"GET",signal:a.signal});return clearTimeout(r),t.ok}catch(e){return clearTimeout(r),!1}}const n=async e=>await fetch(e).then((e=>e.json()));async function i(e){return await fetch(e).then((e=>e.json()))}const s=async(e,t,a,r)=>{await fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({item_id:e,username:t,comment:a})})},d=async(e,t)=>{await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({item_id:e})})}},561:(e,t,a)=>{a.d(t,{Z:()=>o});var r=a(224);class o{constructor(){this.animes=[]}static commentKey(e,t,a,r){return`${e}::${(t||"").toString().trim()}::${(a||"").toString().trim()}::${(r||"").toString().trim()}`}async loadData(e,t,a,n={}){!0===n.append||(e&&e.innerHTML&&(e.innerHTML=""),this.animes=[]);let i=[];try{i=await(0,r.WI)(t),i&&i.data&&Array.isArray(i.data)&&(i=i.data),Array.isArray(i)||(i=[])}catch(e){console.warn("Failed to fetch anime list",e),i=[]}i&&0!==i.length||(i=[{title:"Sample: Skybound Saga",images:{jpg:{image_url:"./icons&imgs/dynasty-logo.svg"}},synopsis:"A thrilling adventure about sky pirates and ancient machines.",genres:[{name:"Action"},{name:"Adventure"}],rank:null},{title:"Sample: Night Blossom",images:{jpg:{image_url:"./icons&imgs/dynasty-logo.svg"}},synopsis:"A quiet story of love and secrets in a coastal town.",genres:[{name:"Drama"},{name:"Romance"}],rank:null}]);let s=[];try{s=await(0,r.nN)(a),Array.isArray(s)||(s=[])}catch(e){console.warn("Failed to fetch likes",e),s=[]}const d=new Map;s.forEach((e=>{const t=Number(e.item_id);Number.isNaN(t)||d.set(t,e.likes)}));const c=document.createDocumentFragment();return i.forEach(((e,t)=>{if(!e)return;const a=this.animes.length+t,r=function(e){return e?{title:e.title||e.titles&&e.titles[0]&&e.titles[0].title||"Untitled",image:e.images&&e.images.jpg&&(e.images.jpg.image_url||e.images.jpg.large_image_url)||e.image||"./icons&imgs/dynasty-logo.svg",imageHigh:e.images&&e.images.jpg&&(e.images.jpg.large_image_url||e.images.jpg.image_url)||e.image||"./icons&imgs/dynasty-logo.svg",synopsis:e.synopsis||e.background||"",genres:e.genres&&e.genres.map((e=>e.name))||e.genres_list&&e.genres_list.map((e=>e.name))||[],ranking:e.rank||e.ranking||null,mal_id:e.mal_id||e.id||null,score:e.score||null,episodes:e.episodes||null,trailer:e.trailer&&(e.trailer.youtube_id?`https://www.youtube.com/watch?v=${e.trailer.youtube_id}`:e.trailer.url)||null}:null}(e)||{},i=o.sanitizeSynopsis(r.synopsis||""),s=document.createElement("div");s.className="movie-card bg-gray-800 rounded-lg shadow-xl overflow-hidden transform hover:-translate-y-2 transition duration-300",n&&n.hidden&&s.classList.add("hidden-by-default"),s.dataset.id=a,s.dataset.title=(e.title||"").toLowerCase();const l=d.get(a)||0,p=(g=r.image,(u=r.imageHigh)&&u!==g?`${g} 400w, ${u} 1200w`:null),m=p?`srcset="${p}" sizes="(max-width:800px)400px, 1200px"`:"";var g,u;s.innerHTML=`\n        <div class="card-inner">\n            <div class="poster-wrap">\n            <img loading="lazy" decoding="async" class="poster" src="${r.image}" ${m} alt="${r.title}">\n            <div class="play-overlay" aria-hidden="true"><i class="fas fa-play"></i></div>\n            <div class="badge">${r.ranking?`#${r.ranking}`:"NEW"}</div>\n          </div>\n          <div class="meta">\n            <h3 class="title">${r.title}</h3>\n            <div class="card-meta">\n              <div class="sub">${r.genres?r.genres.join(", ").slice(0,40):""}</div>\n              <div class="meta-right" style="margin-left:auto; text-align:right; font-weight:700">${r.score?`★ ${r.score}`:""}${r.episodes?` · ${r.episodes} ep`:""}</div>\n              <div class="likes"><span id="span-${a}">${l}</span> <i class="fas fa-heart" style="opacity:0.6;margin-left:6px"></i></div>\n            </div>\n            <div class="info-strip">${i?i.length>70?i.slice(0,70)+"…":i:""}</div>\n            <div class="actions">\n              <button class="icon-btn fav-btn" aria-label="favorite"><i class="fas fa-bookmark"></i></button>\n              <button class="icon-btn like-btn" aria-label="like"><i class="fas fa-heart"></i></button>\n              <button class="icon-btn comment-btn" aria-label="comments"><i class="fas fa-comment"></i></button>\n            </div>\n          </div>\n        </div>`,c.appendChild(s);const b={id:a,title:r.title,synopsis:i,image:r.image,likes:l,mal_id:r.mal_id,score:r.score,episodes:r.episodes,trailer:r.trailer,comments:0};this.animes.push(b),this.itemsCounter()})),e&&c.childNodes&&c.childNodes.length&&e.appendChild(c),i.length}static sanitizeSynopsis(e){if(!e)return"";let t=e.split(/\r?\n/).map((e=>e.trim())).filter((e=>{const t=e.toLowerCase();return!(!e||t.startsWith("written by")||t.startsWith("by ")||t.startsWith("source:")||/^—|^\u2014/.test(e))})).join(" ");return t=t.replace(/\s*written by[\s\S]*$/i,""),t.trim()}increaseLikes(e){const t=document.getElementById(`span-${e}`);this.animes[e].likes+=1,t.innerText=this.animes[e].likes}itemsCounter(){document.getElementById("animesNum").innerText=this.animes.length}async loadModalInfo(e,t){const a=this.animes[e],n=document.getElementById("commentsNumber");n&&(n.innerText=this.animes[e].comments||0);const i=document.getElementById("animeDescription"),s=a.synopsis||"No description provided.";i&&this.renderWithReadMore(i,s,400),document.getElementById("modal-title").innerText=a.title,document.getElementById("modal-image").setAttribute("src",a.image);const d=document.getElementById("trailer-wrap");if(d&&d.parentNode&&d.parentNode.removeChild(d),a.trailer){const e=document.querySelector(".modal-inner .right");if(e){const t=document.createElement("div");t.id="trailer-wrap",t.className="trailer-wrap";let r=null;try{const e=new URL(a.trailer);e.hostname.includes("youtube.com")&&(r=e.searchParams.get("v")),e.hostname.includes("youtu.be")&&(r=e.pathname.replace(/^\//,""))}catch(e){const t=String(a.trailer).match(/[?&]v=([^&]+)/);t&&(r=t[1]);const o=String(a.trailer).match(/youtu\.be\/(.+)$/);!r&&o&&(r=o[1])}if(r){const e=document.createElement("iframe");e.setAttribute("src",`https://www.youtube.com/embed/${r}?rel=0`),e.setAttribute("title",`${a.title} — trailer`),e.setAttribute("frameborder","0"),e.setAttribute("allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"),e.setAttribute("allowfullscreen",""),e.className="trailer-iframe",t.appendChild(e)}else{const e=document.createElement("a");e.id="watch-trailer",e.className="cta",e.href=a.trailer,e.target="_blank",e.rel="noopener noreferrer",e.innerText="Watch trailer",t.appendChild(e)}e.insertBefore(t,e.querySelector("div"))}}const c=document.getElementById("modal-image");c&&(c.complete?c.classList.add("loaded"):c.addEventListener("load",(()=>c.classList.add("loaded"))));const l=document.getElementById("sticker-badge");l&&(l.innerText=a.title.length>28?`${a.title.slice(0,25)}…`:a.title);const p=document.getElementById("comments");p.dataset.id=e,p.innerHTML="";const m=`${t}?item_id=${e}`,g=await(0,r.li)(m);if(Array.isArray(g)){const t=JSON.parse(localStorage.getItem("deletedComments")||"[]"),a=g.filter((a=>{const r=o.commentKey(e,a.username,a.creation_date,a.comment);return!t.includes(r)}));this.animes[e].comments=a.length,n&&(n.innerText=this.animes[e].comments),a.forEach((t=>{this.addComment(e,t.username,t.creation_date,t.comment)}))}}renderWithReadMore(e,t,a=300){e.innerHTML="";const r=t.slice(0,a),o=t.length>a,n=document.createElement("div");if(n.className="anime-desc-body",n.textContent=o?r+"…":t,o||n.classList.add("expanded"),e.appendChild(n),o){const a=document.createElement("button");a.type="button",a.className="read-more-btn",a.setAttribute("aria-expanded","false"),a.textContent="Read more",a.addEventListener("click",(()=>{"true"===a.getAttribute("aria-expanded")?(n.textContent=r+"…",n.classList.remove("expanded"),a.textContent="Read more",a.setAttribute("aria-expanded","false")):(n.textContent=t,n.classList.add("expanded"),a.textContent="Show less",a.setAttribute("aria-expanded","true"));const o=e.querySelector("[aria-live]");o&&(o.textContent=a.textContent+" description")})),e.appendChild(a)}}addComment(e,t,a,r){const n=document.createElement("div"),i=document.getElementById("comments")||document.querySelector(".comments")||(()=>{const e=document.createElement("div");return e.id="comments",document.body.appendChild(e),e})(),s=document.getElementById("commentsNumber");n.className="comment",n.setAttribute("data-author",t),n.innerHTML=`\n      <div style="display:flex; justify-content:space-between; align-items:center; gap:12px; margin-bottom:8px">\n        <div style="display:flex; gap:12px; align-items:center">\n          <div class="avatar">${t&&t[0]?t[0].toUpperCase():"U"}</div>\n          <div>\n            <div class="comment-meta"><strong>${t}</strong> <span style="color:var(--muted); font-size:0.85rem; margin-left:8px">${a}</span></div>\n          </div>\n        </div>\n        <button class="comment-close" aria-label="Delete comment" title="Delete comment">&times;</button>\n      </div>\n      <p>${r}</p>\n    `,this.animes[e].comments+=1,s.innerText=this.animes[e].comments,i.appendChild(n);const d=n.querySelector(".comment-close");d&&d.addEventListener("click",(()=>{if(n.querySelector(".confirm-box"))return;const i=document.createElement("div");i.className="confirm-box",i.innerHTML='\n          <span>Delete this comment?</span>\n          <div class="confirm-actions">\n            <button class="confirm-yes">Delete</button>\n            <button class="confirm-no">Cancel</button>\n          </div>\n        ',n.appendChild(i);const c=i.querySelector(".confirm-yes"),l=i.querySelector(".confirm-no");c&&"function"==typeof c.focus&&c.focus(),c.addEventListener("click",(()=>{const d=o.commentKey(e,t,a,r),c=JSON.parse(localStorage.getItem("deletedComments")||"[]");c.includes(d)||(c.push(d),localStorage.setItem("deletedComments",JSON.stringify(c))),n.classList.add("removing"),setTimeout((()=>{n&&n.parentNode&&n.parentNode.removeChild(n),"number"==typeof this.animes[e].comments&&this.animes[e].comments>0&&(this.animes[e].comments-=1,s.innerText=this.animes[e].comments),i&&i.parentNode&&i.parentNode.removeChild(i)}),320)})),l.addEventListener("click",(()=>{i&&i.parentNode&&i.parentNode.removeChild(i),d&&"function"==typeof d.focus&&d.focus()}))})),requestAnimationFrame((()=>{n.classList.add("enter"),requestAnimationFrame((()=>n.classList.add("show")))}))}async addNewComment(e){const t=document.getElementById("InputName"),a=document.getElementById("commentToPost"),o=document.getElementById("small");if(!t||!a)return;if(!t.value.trim()||!a.value.trim())return void(o&&o.classList.remove("hidden"));o&&o.classList.add("hidden");let n=document.getElementById("comments")||document.querySelector(".comments");n||(n=document.createElement("div"),n.id="comments",n.dataset.id=0,document.body.appendChild(n));const i=n.dataset.id,s=new Date,d=String(s.getMonth()+1).padStart(2,"0"),c=String(s.getDate()).padStart(2,"0"),l=`${e}`;await(0,r.RV)(i,t.value,a.value,l),this.addComment(i,t.value,`${s.getFullYear()}-${d}-${c}`,a.value),t.value="",a.value=""}}}},e=>{e(e.s=212)}]);